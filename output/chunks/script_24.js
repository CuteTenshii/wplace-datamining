import {
  g as i
} from "./C5GsJ62f.js";
import "./Bzak7iHL.js";
import {
  o as Se
} from "./C7jYfUbS.js";
import {
  p as fe,
  g as o,
  u as ae,
  aJ as b,
  aI as S,
  y as oe,
  f as C,
  d as a,
  s as u,
  bp as qe,
  r as n,
  t as B,
  b as v,
  c as he,
  at as Ce,
  n as Pe,
  bj as _e,
  b4 as te,
  aK as pe,
  a as me,
  v as Ee
} from "./apxRKl0u.js";
import {
  s as p
} from "./B9SWw7yZ.js";
import {
  p as se,
  i as q,
  r as xe
} from "./DBMZVJyA.js";
import {
  e as Oe
} from "./DwmP27Pv.js";
import {
  b as ge,
  C as Te,
  e as Ie,
  r as I,
  s as ve,
  f as Z,
  a as ze
} from "./DRcRj3o9.js";
import {
  t as je
} from "./D6N4-wGP.js";
import {
  a as Ae,
  c as Ke
} from "./DoCKPXSb.js";
import {
  b as Ne
} from "./ClbBIaRv.js";
import {
  k as Ze,
  l as Fe,
  m as He,
  n as Je,
  o as Ve,
  P as re,
  t as ne
} from "./Cfu4hl5H.js";
import {
  P as Ge
} from "./B1v9VrKg.js";
import {
  c as Qe
} from "./CTRYyxGQ.js";
import {
  g as We
} from "./BC2wjH3w.js";
import {
  f as Xe
} from "./BI5KFv7B.js";
const Ye = () => "Copy",
  $e = () => "Copiar",
  Mr = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Ye() : $e(),
  et = () => "Report User",
  tt = () => "Reportar usuário",
  rt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? et() : tt(),
  nt = () => "Timeout User",
  at = () => "Suspender usuário",
  ot = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? nt() : at(),
  st = () => "Ban User",
  it = () => "Banir usuário",
  lt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? st() : it(),
  ct = () => "Select the reason",
  ut = () => "Selecione o motivo",
  dt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? ct() : ut(),
  _t = () => "+18, inappropriate link, highly suggestive content, ...",
  pt = () => "+18, links inapropriados, conteúdo altamente sugestivo, ...",
  mt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? _t() : pt(),
  vt = () => "Use of software to completely automate painting",
  ft = () => "Uso de software para pintar de forma completamente automatizada ",
  ht = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? vt() : ft(),
  xt = () => "Racism, homophobia, hate groups, ...",
  gt = () => "Racismo, homofobia, grupos de ódio, ...",
  bt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? xt() : gt(),
  yt = () => "Messed up artworks for no reason",
  wt = () => "Estragar desenho dos outros sem motivo",
  Rt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? yt() : wt(),
  kt = () => "Released other's personal information without their consent",
  Bt = () => "Vazar informações pessoais de terceiros sem consentimento",
  Lt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? kt() : Bt(),
  Dt = () => "Other",
  Mt = () => "Outro motivo",
  Ut = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Dt() : Mt(),
  St = () => "Other reason not listed",
  qt = () => "Outro motivo não listado",
  Ct = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? St() : qt(),
  Pt = () => "Extra context on what happened (required)",
  Et = () => "Mais informações sobre o que aconteceu (obrigatório)",
  Ot = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Pt() : Et(),
  Tt = () => "Report",
  It = () => "Reportar",
  zt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Tt() : It(),
  jt = () => "Report sent successfully",
  At = () => "Denúncia enviada com sucesso",
  Kt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? jt() : At(),
  Nt = () => "Select the report reason",
  Zt = () => "Selecione o motivo da denúncia",
  Ft = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Nt() : Zt(),
  Ht = () => "Report failed. Please try again later",
  Jt = () => "Denúncia falhou. Por favor, tente novamente mais tarde",
  Vt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Ht() : Jt(),
  Gt = () => "Required",
  Qt = () => "Obrigatório",
  Wt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Gt() : Qt(),
  Xt = t => `Min. characters: ${t.min}`,
  Yt = t => `Mínimo de caracteres: ${t.min}`,
  $t = (t, e = {}) => (e.locale ?? i()) === "en" ? Xt(t) : Yt(t),
  er = t => `Max. characters: ${t.max}`,
  tr = t => `Máximo de caracteres: ${t.max}`,
  rr = (t, e = {}) => (e.locale ?? i()) === "en" ? er(t) : tr(t);
var nr = C('<legend class="fieldset-legend"> </legend>'),
  ar = C('<span class="text-base-content/80"> </span>'),
  or = C('<fieldset class="fieldset"><!> <textarea></textarea> <div class="flex items-center justify-between text-xs"><span class="text-error"> </span> <!></div></fieldset>');

function sr(t, e) {
  fe(e, !0);
  let r = se(e, "value", 15),
    m = se(e, "validate", 15),
    M = xe(e, ["$$slots", "$$events", "$$legacy", "label", "placeholder", "value", "max", "min", "validate"]),
    y = S("");
  const k = ae(() => {
    var l;
    return ((l = r()) == null ? void 0 : l.length) ?? 0
  });
  m(U);

  function U() {
    return e.min !== void 0 && o(k) < e.min ? (b(y, e.min === 1 ? Wt() : $t({
      min: e.min
    }), !0), !1) : e.max !== void 0 && o(k) > e.max ? (b(y, rr({
      max: e.max
    }), !0), !1) : !0
  }
  oe(() => {
    var l;
    e.max !== void 0 && o(k) > e.max && r((l = r()) == null ? void 0 : l.substring(0, e.max))
  });
  var L = or(),
    z = a(L);
  {
    var F = l => {
      var x = nr(),
        D = a(x, !0);
      n(x), B(() => p(D, e.label)), v(l, x)
    };
    q(z, l => {
      e.label && l(F)
    })
  }
  var g = u(z, 2);
  qe(g), ge(g, l => ({
    ...M,
    class: `textarea w-full ${e.class??""}`,
    placeholder: e.placeholder,
    [Te]: l
  }), [() => ({
    "textarea-error": !!o(y)
  })]);
  var P = u(g, 2),
    E = a(P),
    H = a(E, !0);
  n(E);
  var f = u(E, 2);
  {
    var h = l => {
      var x = ar(),
        D = a(x, !0);
      n(x), B(() => p(D, e.max - o(k))), v(l, x)
    };
    q(f, l => {
      e.max !== void 0 && l(h)
    })
  }
  n(P), n(L), B(() => p(H, o(y))), Ae(g, r), v(t, L), he()
}
var ir = C('<label class="flex gap-3"><input name="reason" class="radio radio-sm mt-1" type="radio"/> <div><div class="font-semibold"> </div> <div class="text-base-content/80 text-sm"> </div></div></label>'),
  lr = (t, e) => {
    e(!1)
  },
  cr = C('<form method="POST"><input name="reportedUserId" hidden/> <input name="latitude" hidden/> <input name="longitude" hidden/> <input name="zoom" hidden/> <section class="flex gap-3"><!> <div><h2 class="text-xl font-semibold"><!></h2> <span><span> </span> <span> </span></span></div></section> <section class="mt-6"><h3 class="text-base-content/80 text-base"> </h3> <div class="mt-2 flex flex-col gap-3"></div></section> <section class="mt-6"><!></section> <section class="mt-3 flex justify-end gap-2"><button type="button" class="btn"> </button> <button class="btn btn-error"> </button></section></form>'),
  ur = C('<dialog class="modal"><div class="modal-box max-h-[97%] max-w-xl"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button></form> <!></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');

function Ur(t, e) {
  fe(e, !0);
  const r = [];
  let m = se(e, "open", 15),
    M = S(!1),
    y = S(""),
    k = S(""),
    U = S(null),
    L = S(null);
  const z = [{
    value: "inappropriate-content",
    label: Ze(),
    description: mt()
  }, {
    value: "hate-speech",
    label: Fe(),
    description: bt()
  }, {
    value: "doxxing",
    label: He(),
    description: Lt()
  }, {
    value: "bot",
    label: Je(),
    description: ht()
  }, {
    value: "griefing",
    label: Ve(),
    description: Rt()
  }, {
    value: "other",
    label: Ut(),
    description: Ct()
  }];
  Se(() => {
    const f = h => {
      h.key === "Escape" && m(!1)
    };
    return document.addEventListener("keydown", f), () => document.removeEventListener("keydown", f)
  }), oe(() => {
    m() || (b(y, ""), b(k, ""))
  });
  const F = {
    "report-user": `${re}/report-user`,
    timeout: `${re}/moderator/timeout-user`,
    ban: `${re}/admin/ban-user`
  };
  var g = ur(),
    P = a(g),
    E = u(a(P), 2);
  {
    var H = f => {
      var h = cr(),
        l = a(h);
      I(l);
      var x = u(l, 2);
      I(x);
      var D = u(x, 2);
      I(D);
      var J = u(D, 2);
      I(J);
      var V = u(J, 2),
        ie = a(V);
      Ge(ie, {
        get userId() {
          return e.paintedBy.id
        },
        get pictureUrl() {
          return e.paintedBy.picture
        },
        class: "size-14"
      });
      var le = u(ie, 2),
        G = a(le),
        be = a(G);
      {
        var ye = c => {
            var s = te();
            B(d => p(s, d), [() => rt()]), v(c, s)
          },
          we = c => {
            var s = pe(),
              d = me(s);
            {
              var _ = w => {
                  var R = te();
                  B(O => p(R, O), [() => ot()]), v(w, R)
                },
                A = w => {
                  var R = pe(),
                    O = me(R);
                  {
                    var K = T => {
                      var N = te();
                      B(Ue => p(N, Ue), [() => lt()]), v(T, N)
                    };
                    q(O, T => {
                      e.action === "ban" && T(K)
                    }, !0)
                  }
                  v(w, R)
                };
              q(d, w => {
                e.action === "timeout" ? w(_) : w(A, !1)
              }, !0)
            }
            v(c, s)
          };
        q(be, c => {
          e.action === "report-user" ? c(ye) : c(we, !1)
        })
      }
      n(G);
      var Q = u(G, 2),
        W = a(Q),
        Re = a(W, !0);
      n(W);
      var ce = u(W, 2),
        ke = a(ce);
      n(ce), n(Q), n(le), n(V);
      var X = u(V, 2),
        Y = a(X),
        Be = a(Y);
      n(Y);
      var ue = u(Y, 2);
      Oe(ue, 21, () => z, c => c.value, (c, s) => {
        var d = ir(),
          _ = a(d);
        I(_);
        var A, w = u(_, 2),
          R = a(w),
          O = a(R, !0);
        n(R);
        var K = u(R, 2),
          T = a(K, !0);
        n(K), n(w), n(d), B(() => {
          ve(_, "aria-label", o(s).label), A !== (A = o(s).value) && (_.value = (_.__value = o(s).value) ?? ""), p(O, o(s).label), p(T, o(s).description)
        }), Ke(r, [], _, () => (o(s).value, o(y)), N => b(y, N)), v(c, d)
      }), n(ue), n(X);
      var $ = u(X, 2),
        Le = a($);
      {
        let c = ae(() => Ot()),
          s = ae(() => o(y) === "doxxing" ? 20 : 5);
        sr(Le, {
          class: "h-20 rounded-lg",
          name: "notes",
          get placeholder() {
            return o(c)
          },
          max: 2056,
          get min() {
            return o(s)
          },
          get value() {
            return o(k)
          },
          set value(d) {
            b(k, d, !0)
          },
          get validate() {
            return o(L)
          },
          set validate(d) {
            b(L, d, !0)
          }
        })
      }
      n($);
      var de = u($, 2),
        j = a(de);
      j.__click = [lr, m];
      var De = a(j, !0);
      n(j);
      var ee = u(j, 2),
        Me = a(ee, !0);
      n(ee), n(de), n(h), Ne(h, c => b(U, c), () => o(U)), B((c, s, d, _) => {
        ve(h, "action", F[e.action]), Z(l, e.paintedBy.id), Z(x, e.latLon[0]), Z(D, e.latLon[1]), Z(J, e.zoom), ze(Q, 1, `font-medium ${c??""} flex gap-1.5`), p(Re, e.paintedBy.name), p(ke, `#${e.paintedBy.id??""}`), p(Be, `${s??""}:`), p(De, d), ee.disabled = o(M), p(Me, _)
      }, [() => We(e.paintedBy.id), () => dt(), () => Qe(), () => zt()]), _e("submit", h, async c => {
        if (c.preventDefault(), !o(M) && o(L)()) try {
          b(M, !0);
          const s = new FormData(o(U));
          if (!s.get("reason")) {
            ne.error(Ft());
            return
          }
          const d = await e.image;
          s.append("image", d, `report-${Date.now()}.jpeg`);
          const _ = await fetch(o(U).action, {
            method: "POST",
            body: s,
            credentials: "include"
          });
          _.status === 200 || _.status === 409 ? (ne.info(Kt()), m(!1)) : ne.error(Vt())
        } finally {
          b(M, !1)
        }
      }), je(2, h, () => Xe), v(f, h)
    };
    q(E, f => {
      m() && f(H)
    })
  }
  n(P), Pe(2), n(g), Ie(g, () => f => {
    oe(() => {
      m() ? f.show() : f.close()
    })
  }), _e("close", g, () => m(!1)), v(t, g), he()
}
Ce(["click"]);
var dr = Ee('<svg><path d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"></path></svg>');

function Sr(t, e) {
  let r = xe(e, ["$$slots", "$$events", "$$legacy"]);
  var m = dr();
  ge(m, () => ({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 -960 960 960",
    fill: "currentColor",
    ...r
  })), v(t, m)
}
export {
  Sr as D, sr as L, Ur as R, lt as b, Mr as c, rt as r, ot as t
};