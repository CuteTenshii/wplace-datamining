import {
  g as i
} from "./D16i70V_.js";
import "./WEYp4Kog.js";
import {
  o as Se
} from "./BaZ3v5pC.js";
import {
  p as me,
  g as o,
  u as ae,
  aw as x,
  av as S,
  y as oe,
  f as M,
  d as a,
  s as u,
  bo as Ie,
  r,
  t as k,
  b as v,
  c as be,
  at as Me,
  n as Ue,
  bi as _e,
  b3 as te,
  ax as pe,
  a as fe,
  v as qe
} from "./C-DfkL0W.js";
import {
  s as p
} from "./B4wYbxNk.js";
import {
  p as se,
  i as I,
  r as ge
} from "./Dif54ixw.js";
import {
  e as Ce
} from "./C-ctmk4V.js";
import {
  b as he,
  C as Pe,
  f as Oe,
  r as O,
  s as ve,
  g as F,
  a as ze
} from "./D4cTTJpL.js";
import {
  t as Ae
} from "./CFYjdZIk.js";
import {
  a as je,
  c as Ne
} from "./BGeJ7nO0.js";
import {
  b as Ze
} from "./CKA_TK0P.js";
import {
  l as Fe,
  m as He,
  n as Ke,
  o as Ve,
  p as Ye,
  P as ne,
  t as re
} from "./CI6N1sjN.js";
import {
  P as Ge
} from "./DIHwMOiy.js";
import {
  c as Je
} from "./XuU7Kg9k.js";
import {
  g as Qe
} from "./DaKWRD9R.js";
import {
  f as We
} from "./FSZzjaMU.js";
(function() {
  try {
    var t = typeof window < "u" ? window : typeof global < "u" ? global : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {};
    t.SENTRY_RELEASE = {
      id: "20acfd88f8d7c9ea7803ba9b0c3c2cc1012eb498"
    }
  } catch {}
})();
try {
  (function() {
    var t = typeof window < "u" ? window : typeof global < "u" ? global : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {},
      e = new t.Error().stack;
    e && (t._sentryDebugIds = t._sentryDebugIds || {}, t._sentryDebugIds[e] = "2d3c9d8b-231a-407a-997e-75a546d9c158", t._sentryDebugIdIdentifier = "sentry-dbid-2d3c9d8b-231a-407a-997e-75a546d9c158")
  })()
} catch {}
const Xe = () => "Copy",
  $e = () => "Copiar",
  Tn = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Xe() : $e(),
  et = () => "Report User",
  tt = () => "Reportar usuário",
  nt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? et() : tt(),
  rt = () => "Timeout User",
  at = () => "Suspender usuário",
  ot = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? rt() : at(),
  st = () => "Ban User",
  it = () => "Banir usuário",
  lt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? st() : it(),
  ct = () => "Select the reason",
  ut = () => "Selecione o motivo",
  dt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? ct() : ut(),
  _t = () => "+18, inappropriate link, highly suggestive content, ...",
  pt = () => "+18, links inapropriados, conteúdo altamente sugestivo, ...",
  ft = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? _t() : pt(),
  vt = () => "Use of software to completely automate painting",
  mt = () => "Uso de software para pintar de forma completamente automatizada ",
  bt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? vt() : mt(),
  gt = () => "Racism, homophobia, hate groups, ...",
  ht = () => "Racismo, homofobia, grupos de ódio, ...",
  xt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? gt() : ht(),
  yt = () => "Messed up artworks for no reason",
  wt = () => "Estragar desenho dos outros sem motivo",
  Rt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? yt() : wt(),
  Dt = () => "Released other's personal information without their consent",
  kt = () => "Vazar informações pessoais de terceiros sem consentimento",
  Bt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Dt() : kt(),
  Et = () => "Other",
  Lt = () => "Outro motivo",
  Tt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Et() : Lt(),
  St = () => "Other reason not listed",
  It = () => "Outro motivo não listado",
  Mt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? St() : It(),
  Ut = () => "Extra context on what happened (required)",
  qt = () => "Mais informações sobre o que aconteceu (obrigatório)",
  Ct = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Ut() : qt(),
  Pt = () => "Report",
  Ot = () => "Reportar",
  zt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Pt() : Ot(),
  At = () => "Report sent successfully",
  jt = () => "Denúncia enviada com sucesso",
  Nt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? At() : jt(),
  Zt = () => "Select the report reason",
  Ft = () => "Selecione o motivo da denúncia",
  Ht = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Zt() : Ft(),
  Kt = () => "Report failed. Please try again later",
  Vt = () => "Denúncia falhou. Por favor, tente novamente mais tarde",
  Yt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Kt() : Vt(),
  Gt = () => "Required",
  Jt = () => "Obrigatório",
  Qt = (t = {}, e = {}) => (e.locale ?? i()) === "en" ? Gt() : Jt(),
  Wt = t => `Min. characters: ${t.min}`,
  Xt = t => `Mínimo de caracteres: ${t.min}`,
  $t = (t, e = {}) => (e.locale ?? i()) === "en" ? Wt(t) : Xt(t),
  en = t => `Max. characters: ${t.max}`,
  tn = t => `Máximo de caracteres: ${t.max}`,
  nn = (t, e = {}) => (e.locale ?? i()) === "en" ? en(t) : tn(t);
var rn = M('<legend class="fieldset-legend"> </legend>'),
  an = M('<span class="text-base-content/80"> </span>'),
  on = M('<fieldset class="fieldset"><!> <textarea></textarea> <div class="flex items-center justify-between text-xs"><span class="text-error"> </span> <!></div></fieldset>');

function sn(t, e) {
  me(e, !0);
  let n = se(e, "value", 15),
    f = se(e, "validate", 15),
    L = ge(e, ["$$slots", "$$events", "$$legacy", "label", "placeholder", "value", "max", "min", "validate"]),
    y = S("");
  const D = ae(() => {
    var l;
    return ((l = n()) == null ? void 0 : l.length) ?? 0
  });
  f(T);

  function T() {
    return e.min !== void 0 && o(D) < e.min ? (x(y, e.min === 1 ? Qt() : $t({
      min: e.min
    }), !0), !1) : e.max !== void 0 && o(D) > e.max ? (x(y, nn({
      max: e.max
    }), !0), !1) : !0
  }
  oe(() => {
    var l;
    e.max !== void 0 && o(D) > e.max && n((l = n()) == null ? void 0 : l.substring(0, e.max))
  });
  var B = on(),
    z = a(B);
  {
    var H = l => {
      var g = rn(),
        E = a(g, !0);
      r(g), k(() => p(E, e.label)), v(l, g)
    };
    I(z, l => {
      e.label && l(H)
    })
  }
  var h = u(z, 2);
  Ie(h), he(h, l => ({
    ...L,
    class: `textarea w-full ${e.class??""}`,
    placeholder: e.placeholder,
    [Pe]: l
  }), [() => ({
    "textarea-error": !!o(y)
  })]);
  var U = u(h, 2),
    q = a(U),
    K = a(q, !0);
  r(q);
  var m = u(q, 2);
  {
    var b = l => {
      var g = an(),
        E = a(g, !0);
      r(g), k(() => p(E, e.max - o(D))), v(l, g)
    };
    I(m, l => {
      e.max !== void 0 && l(b)
    })
  }
  r(U), r(B), k(() => p(K, o(y))), je(h, n), v(t, B), be()
}
var ln = M('<label class="flex gap-3"><input name="reason" class="radio radio-sm mt-1" type="radio"/> <div><div class="font-semibold"> </div> <div class="text-base-content/80 text-sm"> </div></div></label>'),
  cn = (t, e) => {
    e(!1)
  },
  un = M('<form method="POST"><input name="reportedUserId" hidden/> <input name="latitude" hidden/> <input name="longitude" hidden/> <input name="zoom" hidden/> <section class="flex gap-3"><!> <div><h2 class="text-xl font-semibold"><!></h2> <span><span> </span> <span> </span></span></div></section> <section class="mt-6"><h3 class="text-base-content/80 text-base"> </h3> <div class="mt-2 flex flex-col gap-3"></div></section> <section class="mt-6"><!></section> <section class="mt-3 flex justify-end gap-2"><button type="button" class="btn"> </button> <button class="btn btn-error"> </button></section></form>'),
  dn = M('<dialog class="modal"><div class="modal-box max-h-[97%] max-w-xl"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button></form> <!></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');

function Sn(t, e) {
  me(e, !0);
  const n = [];
  let f = se(e, "open", 15),
    L = S(!1),
    y = S(""),
    D = S(""),
    T = S(null),
    B = S(null);
  const z = [{
    value: "inappropriate-content",
    label: Fe(),
    description: ft()
  }, {
    value: "hate-speech",
    label: He(),
    description: xt()
  }, {
    value: "doxxing",
    label: Ke(),
    description: Bt()
  }, {
    value: "bot",
    label: Ve(),
    description: bt()
  }, {
    value: "griefing",
    label: Ye(),
    description: Rt()
  }, {
    value: "other",
    label: Tt(),
    description: Mt()
  }];
  Se(() => {
    const m = b => {
      b.key === "Escape" && f(!1)
    };
    return document.addEventListener("keydown", m), () => document.removeEventListener("keydown", m)
  }), oe(() => {
    f() || (x(y, ""), x(D, ""))
  });
  const H = {
    "report-user": `${ne}/report-user`,
    timeout: `${ne}/moderator/timeout-user`,
    ban: `${ne}/admin/ban-user`
  };
  var h = dn(),
    U = a(h),
    q = u(a(U), 2);
  {
    var K = m => {
      var b = un(),
        l = a(b);
      O(l);
      var g = u(l, 2);
      O(g);
      var E = u(g, 2);
      O(E);
      var V = u(E, 2);
      O(V);
      var Y = u(V, 2),
        ie = a(Y);
      Ge(ie, {
        get userId() {
          return e.paintedBy.id
        },
        get pictureUrl() {
          return e.paintedBy.picture
        },
        class: "size-14"
      });
      var le = u(ie, 2),
        G = a(le),
        xe = a(G);
      {
        var ye = c => {
            var s = te();
            k(d => p(s, d), [() => nt()]), v(c, s)
          },
          we = c => {
            var s = pe(),
              d = fe(s);
            {
              var _ = w => {
                  var R = te();
                  k(C => p(R, C), [() => ot()]), v(w, R)
                },
                j = w => {
                  var R = pe(),
                    C = fe(R);
                  {
                    var N = P => {
                      var Z = te();
                      k(Te => p(Z, Te), [() => lt()]), v(P, Z)
                    };
                    I(C, P => {
                      e.action === "ban" && P(N)
                    }, !0)
                  }
                  v(w, R)
                };
              I(d, w => {
                e.action === "timeout" ? w(_) : w(j, !1)
              }, !0)
            }
            v(c, s)
          };
        I(xe, c => {
          e.action === "report-user" ? c(ye) : c(we, !1)
        })
      }
      r(G);
      var J = u(G, 2),
        Q = a(J),
        Re = a(Q, !0);
      r(Q);
      var ce = u(Q, 2),
        De = a(ce);
      r(ce), r(J), r(le), r(Y);
      var W = u(Y, 2),
        X = a(W),
        ke = a(X);
      r(X);
      var ue = u(X, 2);
      Ce(ue, 21, () => z, c => c.value, (c, s) => {
        var d = ln(),
          _ = a(d);
        O(_);
        var j, w = u(_, 2),
          R = a(w),
          C = a(R, !0);
        r(R);
        var N = u(R, 2),
          P = a(N, !0);
        r(N), r(w), r(d), k(() => {
          ve(_, "aria-label", o(s).label), j !== (j = o(s).value) && (_.value = (_.__value = o(s).value) ?? ""), p(C, o(s).label), p(P, o(s).description)
        }), Ne(n, [], _, () => (o(s).value, o(y)), Z => x(y, Z)), v(c, d)
      }), r(ue), r(W);
      var $ = u(W, 2),
        Be = a($);
      {
        let c = ae(() => Ct()),
          s = ae(() => o(y) === "doxxing" ? 20 : 5);
        sn(Be, {
          class: "h-20 rounded-lg",
          name: "notes",
          get placeholder() {
            return o(c)
          },
          max: 2056,
          get min() {
            return o(s)
          },
          get value() {
            return o(D)
          },
          set value(d) {
            x(D, d, !0)
          },
          get validate() {
            return o(B)
          },
          set validate(d) {
            x(B, d, !0)
          }
        })
      }
      r($);
      var de = u($, 2),
        A = a(de);
      A.__click = [cn, f];
      var Ee = a(A, !0);
      r(A);
      var ee = u(A, 2),
        Le = a(ee, !0);
      r(ee), r(de), r(b), Ze(b, c => x(T, c), () => o(T)), k((c, s, d, _) => {
        ve(b, "action", H[e.action]), F(l, e.paintedBy.id), F(g, e.latLon[0]), F(E, e.latLon[1]), F(V, e.zoom), ze(J, 1, `font-medium ${c??""} flex gap-1.5`), p(Re, e.paintedBy.name), p(De, `#${e.paintedBy.id??""}`), p(ke, `${s??""}:`), p(Ee, d), ee.disabled = o(L), p(Le, _)
      }, [() => Qe(e.paintedBy.id), () => dt(), () => Je(), () => zt()]), _e("submit", b, async c => {
        if (c.preventDefault(), !o(L) && o(B)()) try {
          x(L, !0);
          const s = new FormData(o(T));
          if (!s.get("reason")) {
            re.error(Ht());
            return
          }
          const d = await e.image;
          s.append("image", d, `report-${Date.now()}.jpeg`);
          const _ = await fetch(o(T).action, {
            method: "POST",
            body: s,
            credentials: "include"
          });
          _.status === 200 || _.status === 409 ? (re.info(Nt()), f(!1)) : re.error(Yt())
        } finally {
          x(L, !1)
        }
      }), Ae(2, b, () => We), v(m, b)
    };
    I(q, m => {
      f() && m(K)
    })
  }
  r(U), Ue(2), r(h), Oe(h, () => m => {
    oe(() => {
      f() ? m.show() : m.close()
    })
  }), _e("close", h, () => f(!1)), v(t, h), be()
}
Me(["click"]);
var _n = qe('<svg><path d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"></path></svg>');

function In(t, e) {
  let n = ge(e, ["$$slots", "$$events", "$$legacy"]);
  var f = _n();
  he(f, () => ({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 -960 960 960",
    fill: "currentColor",
    ...n
  })), v(t, f)
}
export {
  In as D, sn as L, Sn as R, lt as b, Tn as c, nt as r, ot as t
};