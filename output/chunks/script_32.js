import {
  g as f
} from "./DwU20SJL.js";
import "./D0khCE9p.js";
import {
  o as ot
} from "./DfyQk9Za.js";
import {
  H as Oe,
  b as v,
  v as st,
  p as lt,
  K as Te,
  y as B,
  w as W,
  f as N,
  d as r,
  s as p,
  r as a,
  n as it,
  A as Re,
  c as ct,
  g as t,
  u as te,
  t as k,
  z as me,
  B as ae,
  a as re
} from "./DEdiZ67Z.js";
import {
  s as x
} from "./tVA31HrI.js";
import {
  i as T
} from "./DMpNbPuN.js";
import {
  e as Le
} from "./Bm_j3GuD.js";
import {
  d as Pe,
  e as ut,
  r as ze,
  s as H,
  g as dt,
  a as ne
} from "./BMo7aRVX.js";
import {
  t as _t
} from "./C4iOQtKr.js";
import {
  c as pt
} from "./QyHgXRnz.js";
import {
  b as vt
} from "./qVmtToxT.js";
import {
  r as Ze,
  p as ft
} from "./Dm4bzwAH.js";
import {
  P as ge
} from "./Jzhnf5XJ.js";
import {
  i as mt,
  h as gt,
  d as bt,
  e as ht,
  g as xt,
  t as D,
  o as yt,
  a as be
} from "./BZShxyOn.js";
import {
  o as wt,
  L as It,
  s as kt,
  g as Tt
} from "./CdEcVzJG.js";
import {
  P as Ee
} from "./BmJHMwU3.js";
import {
  G as Ne,
  T as Se,
  t as Be
} from "./BIZ3uKBD.js";
import {
  c as Rt
} from "./BRCrfYbA.js";
import {
  a as Lt
} from "./Cxb7dipm.js";
import {
  u as zt,
  a as Et
} from "./CXWUq-HM.js";
import {
  g as oe,
  a as De
} from "./8YnWfEBO.js";
import {
  f as Nt
} from "./C22A9k0X.js";
(function() {
  try {
    var n = typeof window < "u" ? window : typeof global < "u" ? global : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {};
    n.SENTRY_RELEASE = {
      id: "469a7b97473ab29d501541611648ac6bd4beba7b"
    }
  } catch {}
})();
try {
  (function() {
    var n = typeof window < "u" ? window : typeof global < "u" ? global : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {},
      e = new n.Error().stack;
    e && (n._sentryDebugIds = n._sentryDebugIds || {}, n._sentryDebugIds[e] = "863889db-5706-474c-b37c-c5bff7fef4a0", n._sentryDebugIdIdentifier = "sentry-dbid-863889db-5706-474c-b37c-c5bff7fef4a0")
  })()
} catch {}
const St = () => "Log Out",
  Bt = () => "Log Out",
  kr = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? St() : Bt(),
  Dt = () => "Copy",
  Ut = () => "Copiar",
  Tr = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Dt() : Ut(),
  At = () => "Banned",
  Ct = () => "Banido",
  Ue = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? At() : Ct(),
  Ot = () => "Report User",
  Pt = () => "Reportar usuário",
  Zt = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Ot() : Pt(),
  qt = () => "Timeout User",
  Mt = () => "Suspender usuário",
  Ae = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? qt() : Mt(),
  Ht = () => "Ban User",
  jt = () => "Banir usuário",
  Ce = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Ht() : jt(),
  Gt = () => "+18, inappropriate link, highly suggestive content, ...",
  Kt = () => "+18, links inapropriados, conteúdo altamente sugestivo, ...",
  Vt = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Gt() : Kt(),
  Wt = () => "Use of software to completely automate painting",
  Ft = () => "Uso de software para pintar de forma completamente automatizada ",
  Jt = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Wt() : Ft(),
  Yt = () => "Racism, homophobia, hate groups, ...",
  Qt = () => "Racismo, homofobia, grupos de ódio, ...",
  Xt = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Yt() : Qt(),
  $t = () => "Messed up artworks for no reason",
  ea = () => "Estragar desenho dos outros sem motivo",
  ta = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? $t() : ea(),
  aa = () => "Released other's personal information without their consent",
  ra = () => "Vazar informações pessoais de terceiros sem consentimento",
  na = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? aa() : ra(),
  oa = () => "Other reason not listed",
  sa = () => "Outro motivo não listado",
  la = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? oa() : sa(),
  ia = () => "Report",
  ca = () => "Reportar",
  ua = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? ia() : ca(),
  da = () => "Report sent successfully",
  _a = () => "Denúncia enviada com sucesso",
  pa = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? da() : _a(),
  va = () => "Report failed. Please try again later",
  fa = () => "Denúncia falhou. Por favor, tente novamente mais tarde",
  q = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? va() : fa(),
  ma = () => "Purchases",
  ga = () => "Compras",
  Rr = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? ma() : ga(),
  ba = () => "Log out from all devices",
  ha = () => "Sair de todos os dispositivos",
  Lr = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? ba() : ha(),
  xa = () => "Sessions successfully revoked",
  ya = () => "Sessões encerradas com sucesso",
  zr = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? xa() : ya(),
  wa = () => "Error revoking sessions. Try again later.",
  Ia = () => "Erro ao encerrar sessões. Tente novamente mais tarde.",
  Er = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? wa() : Ia(),
  ka = () => "Report name",
  Ta = () => "Reportar nome",
  Ra = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? ka() : Ta(),
  La = () => "Name reported successfully",
  za = () => "Nome reportado com sucesso",
  Ea = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? La() : za(),
  Na = () => "Report alliance name",
  Sa = () => "Reportar nome da aliança",
  Ba = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Na() : Sa(),
  Da = () => "Alliance name reported successfully",
  Ua = () => "Nome da aliança reportado com sucesso",
  Aa = (n = {}, e = {}) => (e.locale ?? f()) === "en" ? Da() : Ua();
var Ca = Oe('<svg><path d="m40-120 440-760 440 760H40Zm138-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm-40-120h80v-200h-80v200Zm40-100Z"></path></svg>');

function Oa(n, e) {
  let s = Ze(e, ["$$slots", "$$events", "$$legacy"]);
  var R = Ca();
  Pe(R, () => ({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 -960 960 960",
    fill: "currentColor",
    ...s
  })), v(n, R)
}
var Pa = N('<span class="badge badge-sm border-0"> </span>'),
  Za = N("<span> </span>"),
  qa = N('<span class="tooltip"><!></span>'),
  Ma = N('<span class="tooltip"><!></span>'),
  Ha = async (n, e, s) => {
    await e(s.targets), document.activeElement.blur()
  }, ja = async (n, e, s) => {
    await e(s.targets), document.activeElement.blur()
  }, Ga = N('<li><button class="text-error py-2 font-medium"> </button></li>'), Ka = N('<div><span class="flex gap-1.5"><span> </span> <span> </span></span> <!> <!> <!> <div class="dropdown dropdown-bottom max-sm:dropdown-bottom max-sm:dropdown-left"><button tabindex="0" class="btn btn-xs btn-circle btn-ghost"><!></button> <ul class="dropdown-content menu bg-base-100 z-1 mb-1 w-max gap-0.5 rounded-xl p-2.5 shadow-sm"><li><button class="text-error py-2 font-medium"> </button></li> <!></ul></div></div>'), Va = N("<span> </span>"), Wa = N('<span class="tooltip"><!></span>'), Fa = N('<span class="tooltip"><!></span>'), Ja = N('<li class="flex items-center gap-2 px-3 py-2"><!> <div class="min-w-0"><div class="flex flex-wrap items-center gap-1"><span><span> </span> <span> </span></span> <!> <!></div></div></li>'), Ya = N('<div class="border-base-300 mt-4 max-h-40 overflow-y-auto rounded-lg border"><ul class="divide-base-200 divide-y"></ul></div>'), Qa = N('<label class="flex gap-3"><input name="reason" class="radio radio-sm mt-1" type="radio"/> <div><div class="font-semibold"> </div> <div class="text-base-content/80 text-sm"> </div></div></label>'), Xa = (n, e) => {
    e(!1)
  }, $a = N('<form method="POST"><input name="zoom" hidden/> <section class="flex gap-3"><!> <div class="min-w-0"><h2 class="text-xl font-semibold"><!></h2> <!></div></section> <!> <section class="mt-6"><h3 class="text-base-content/80 text-base"> </h3> <div class="mt-2 flex flex-col gap-3"></div></section> <section class="mt-6"><!></section> <section class="mt-3 flex justify-end gap-2"><button type="button" class="btn"> </button> <button class="btn btn-error"> </button></section></form>'), er = N('<dialog class="modal"><div class="modal-box max-h-[97%] max-w-xl"><form method="dialog"><button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button></form> <!></div> <form method="dialog" class="modal-backdrop"><button>close</button></form></dialog>');

function Nr(n, e) {
  lt(e, !0);
  const s = [];
  let R = ft(e, "open", 15),
    C = W(!1),
    F = W(""),
    se = W(""),
    J = W(null),
    le = W(null);
  const qe = [{
    value: "inappropriate-content",
    label: mt(),
    description: Vt()
  }, {
    value: "hate-speech",
    label: gt(),
    description: Xt()
  }, {
    value: "doxxing",
    label: bt(),
    description: na()
  }, {
    value: "bot",
    label: ht(),
    description: Jt()
  }, {
    value: "griefing",
    label: xt(),
    description: ta()
  }, {
    value: "other",
    label: wt(),
    description: la()
  }];
  let L = te(() => {
    var y;
    return (y = e.targets) == null ? void 0 : y[0]
  });
  ot(() => {
    const y = b => {
      b.key === "Escape" && R(!1)
    };
    return document.addEventListener("keydown", y), () => document.removeEventListener("keydown", y)
  }), Te(() => {
    R() || (B(F, ""), B(se, ""))
  });
  const Me = {
    "report-user": `${ge}/report-user`,
    timeout: `${ge}/moderator/timeout-user`,
    ban: `${ge}/admin/ban-user`
  };
  async function He(y) {
    try {
      B(C, !0);
      for (const b of y)
        if (b.id !== 0) try {
          await be.postReportUserName(b.id), D.success(Ea())
        } catch {
          D.error(q())
        }
    } catch {
      D.error(q())
    } finally {
      B(C, !1)
    }
  }
  async function je(y) {
    try {
      B(C, !0);
      for (const b of y)
        if (b.allianceId) try {
          await be.postReportAllianceName(b.allianceId), D.success(Aa())
        } catch {
          D.error(q())
        }
    } catch {
      D.error(q())
    } finally {
      B(C, !1)
    }
  }
  var j = er(),
    he = r(j),
    Ge = p(r(he), 2);
  {
    var Ke = y => {
      var b = $a(),
        Y = r(b);
      ze(Y);
      var ie = p(Y, 2),
        xe = r(ie);
      {
        var Ve = l => {
          {
            let o = te(() => t(L).id ?? 0);
            Ee(l, {
              get userId() {
                return t(o)
              },
              get pictureUrl() {
                return t(L).picture
              },
              class: "size-14 border-0"
            })
          }
        };
        T(xe, l => {
          t(L) && e.targets.length === 1 && l(Ve)
        })
      }
      var ye = p(xe, 2),
        ce = r(ye),
        We = r(ce);
      {
        var Fe = l => {
            var o = me();
            k(d => x(o, d), [() => Zt()]), v(l, o)
          },
          Je = l => {
            var o = ae(),
              d = re(o);
            {
              var g = m => {
                  var h = me();
                  k(_ => x(h, _), [() => Ae()]), v(m, h)
                },
                i = m => {
                  var h = ae(),
                    _ = re(h);
                  {
                    var z = I => {
                      var U = me();
                      k(M => x(U, M), [() => Ce()]), v(I, U)
                    };
                    T(_, I => {
                      e.action === "ban" && I(z)
                    }, !0)
                  }
                  v(m, h)
                };
              T(d, m => {
                e.action === "timeout" ? m(g) : m(i, !1)
              }, !0)
            }
            v(l, o)
          };
        T(We, l => {
          e.action === "report-user" ? l(Fe) : l(Je, !1)
        })
      }
      a(ce);
      var Ye = p(ce, 2);
      {
        var Qe = l => {
          var o = Ka(),
            d = r(o),
            g = r(d),
            i = r(g, !0);
          a(g);
          var m = p(g, 2),
            h = r(m);
          a(m), a(d);
          var _ = p(d, 2);
          {
            var z = u => {
              var c = Pa(),
                S = r(c);
              a(c), k(() => x(S, `+${e.targets.length-1} more`)), v(u, c)
            };
            T(_, u => {
              e.targets.length > 1 && u(z)
            })
          }
          var I = p(_, 2);
          {
            var U = u => {
              var c = Za(),
                S = r(c, !0);
              a(c), k((A, Z) => {
                ne(c, 1, `badge badge-sm ml-0.5 border-0 ${A??""} ${Z??""}`), x(S, t(L).allianceName)
              }, [() => De(t(L).allianceId), () => oe(t(L).allianceId)]), v(u, c)
            };
            T(I, u => {
              t(L).allianceId && t(L).allianceName && u(U)
            })
          }
          var M = p(I, 2);
          {
            var X = u => {
                var c = qa(),
                  S = r(c);
                Ne(S, {
                  class: "text-error inline size-4"
                }), a(c), k(A => H(c, "data-tip", A), [() => Ue()]), v(u, c)
              },
              ve = u => {
                var c = ae(),
                  S = re(c);
                {
                  var A = Z => {
                    var ee = Ma(),
                      rt = r(ee);
                    Se(rt, {
                      class: "text-warning inline size-4"
                    }), a(ee), k(nt => H(ee, "data-tip", nt), [() => Be()]), v(Z, ee)
                  };
                  T(S, Z => {
                    t(L).timedOut && Z(A)
                  }, !0)
                }
                v(u, c)
              };
            T(M, u => {
              t(L).banned ? u(X) : u(ve, !1)
            })
          }
          var G = p(M, 2),
            K = r(G),
            fe = r(K);
          Oa(fe, {
            class: "text-error inline size-4"
          }), a(K);
          var $ = p(K, 2),
            V = r($),
            w = r(V);
          w.__click = [Ha, He, e];
          var E = r(w, !0);
          a(w), a(V);
          var O = p(V, 2);
          {
            var P = u => {
              var c = Ga(),
                S = r(c);
              S.__click = [ja, je, e];
              var A = r(S, !0);
              a(S), a(c), k(Z => x(A, Z), [() => Ba()]), v(u, c)
            };
            T(O, u => {
              e.targets.some(c => c.allianceId) && u(P)
            })
          }
          a($), a(G), a(o), k((u, c) => {
            ne(o, 1, `font-medium ${u??""} flex flex-wrap items-center gap-1.5`), x(i, t(L).name), x(h, `#${t(L).id??""}`), x(E, c)
          }, [() => oe(t(L).id), () => Ra()]), v(l, o)
        };
        T(Ye, l => {
          t(L) && e.targets.length === 1 && l(Qe)
        })
      }
      a(ye), a(ie);
      var we = p(ie, 2);
      {
        var Xe = l => {
          var o = Ya(),
            d = r(o);
          Le(d, 21, () => e.targets, g => g.id, (g, i) => {
            var m = Ja(),
              h = r(m);
            Ee(h, {
              class: "size-8 border-0",
              get userId() {
                return t(i).id
              },
              get pictureUrl() {
                return t(i).picture
              }
            });
            var _ = p(h, 2),
              z = r(_),
              I = r(z),
              U = r(I),
              M = r(U, !0);
            a(U);
            var X = p(U, 2),
              ve = r(X);
            a(X), a(I);
            var G = p(I, 2);
            {
              var K = w => {
                var E = Va(),
                  O = r(E, !0);
                a(E), k((P, u) => {
                  ne(E, 1, `badge badge-xs border-0 ${P??""} ${u??""}`), x(O, t(i).allianceName)
                }, [() => De(t(i).allianceId), () => oe(t(i).allianceId)]), v(w, E)
              };
              T(G, w => {
                t(i).allianceId && t(i).allianceName && w(K)
              })
            }
            var fe = p(G, 2);
            {
              var $ = w => {
                  var E = Wa(),
                    O = r(E);
                  Ne(O, {
                    class: "text-error inline size-3.5"
                  }), a(E), k(P => H(E, "data-tip", P), [() => Ue()]), v(w, E)
                },
                V = w => {
                  var E = ae(),
                    O = re(E);
                  {
                    var P = u => {
                      var c = Fa(),
                        S = r(c);
                      Se(S, {
                        class: "text-warning inline size-3.5"
                      }), a(c), k(A => H(c, "data-tip", A), [() => Be()]), v(u, c)
                    };
                    T(O, u => {
                      t(i).timedOut && u(P)
                    }, !0)
                  }
                  v(w, E)
                };
              T(fe, w => {
                t(i).banned ? w($) : w(V, !1)
              })
            }
            a(z), a(_), a(m), k(w => {
              ne(I, 1, `font-medium ${w??""} flex gap-1.5`), x(M, t(i).name), x(ve, `#${t(i).id??""}`)
            }, [() => oe(t(i).id)]), v(g, m)
          }), a(d), a(o), v(l, o)
        };
        T(we, l => {
          e.targets.length > 1 && l(Xe)
        })
      }
      var ue = p(we, 2),
        de = r(ue),
        $e = r(de);
      a(de);
      var Ie = p(de, 2);
      Le(Ie, 21, () => qe, l => l.value, (l, o) => {
        var d = Qa(),
          g = r(d);
        ze(g);
        var i, m = p(g, 2),
          h = r(m),
          _ = r(h, !0);
        a(h);
        var z = p(h, 2),
          I = r(z, !0);
        a(z), a(m), a(d), k(() => {
          H(g, "aria-label", t(o).label), i !== (i = t(o).value) && (g.value = (g.__value = t(o).value) ?? ""), x(_, t(o).label), x(I, t(o).description)
        }), pt(s, [], g, () => (t(o).value, t(F)), U => B(F, U)), v(l, d)
      }), a(Ie), a(ue);
      var _e = p(ue, 2),
        et = r(_e);
      {
        let l = te(() => Tt()),
          o = te(() => t(F) === "doxxing" ? 20 : 5);
        It(et, {
          class: "h-20 rounded-lg",
          name: "notes",
          get placeholder() {
            return t(l)
          },
          max: 2056,
          get min() {
            return t(o)
          },
          get value() {
            return t(se)
          },
          set value(d) {
            B(se, d, !0)
          },
          get validate() {
            return t(le)
          },
          set validate(d) {
            B(le, d, !0)
          }
        })
      }
      a(_e);
      var ke = p(_e, 2),
        Q = r(ke);
      Q.__click = [Xa, R];
      var tt = r(Q, !0);
      a(Q);
      var pe = p(Q, 2),
        at = r(pe, !0);
      a(pe), a(ke), a(b), vt(b, l => B(J, l), () => t(J)), k((l, o, d) => {
        H(b, "action", Me[e.action]), dt(Y, e.zoom), x($e, `${l??""}:`), x(tt, o), pe.disabled = t(C), x(at, d)
      }, [() => kt(), () => Rt(), () => ua()]), Re("submit", b, async l => {
        var m, h;
        if (l.preventDefault(), t(C) || !t(le)()) return;
        const o = new FormData(t(J)),
          d = String(o.get("reason") ?? "");
        if (!d) {
          D.error(Lt());
          return
        }
        const g = String(o.get("notes") ?? ""),
          i = e.targets.map(_ => _.id).filter(_ => _ !== 0);
        if (i.length === 0) {
          D.error(q());
          return
        }
        try {
          if (B(C, !0), e.action === "report-user") {
            o.append("reportedUserId", String(i[0])), o.append("latitude", e.latLon[0].toString()), o.append("longitude", e.latLon[1].toString()), i.length > 1 && o.append("userIds", JSON.stringify(i));
            const _ = await e.image;
            o.append("image", _, `report-${Date.now()}.jpeg`);
            const z = await fetch(t(J).action, {
              method: "POST",
              body: o,
              credentials: "include"
            });
            z.status === 200 || z.status === 409 ? (D.info(pa()), (m = e.onsuccess) == null || m.call(e, {
              action: e.action,
              userIds: [i[0]]
            }), R(!1)) : D.error(q())
          } else {
            const _ = await e.image,
              z = await yt(_);
            await be.postUsersSuspend({
              userIds: i,
              suspension: e.action,
              imageBase64: z,
              latitude: e.latLon[0],
              longitude: e.latLon[1],
              zoom: e.zoom,
              reason: d,
              notes: g
            });
            const I = e.action === "ban" ? i.length > 1 ? zt() : Ce() : i.length > 1 ? Et() : Ae();
            D.success(I), (h = e.onsuccess) == null || h.call(e, {
              action: e.action,
              userIds: [i[0]]
            }), R(!1)
          }
        } catch (_) {
          D.error((_ == null ? void 0 : _.message) ?? q())
        } finally {
          B(C, !1)
        }
      }), _t(2, b, () => Nt), v(y, b)
    };
    T(Ge, y => {
      R() && y(Ke)
    })
  }
  a(he), it(2), a(j), ut(j, () => y => {
    Te(() => {
      R() ? y.show() : y.close()
    })
  }), Re("close", j, () => R(!1)), v(n, j), ct()
}
st(["click"]);
var tr = Oe('<svg><path d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"></path></svg>');

function Sr(n, e) {
  let s = Ze(e, ["$$slots", "$$events", "$$legacy"]);
  var R = tr();
  Pe(R, () => ({
    xmlns: "http://www.w3.org/2000/svg",
    viewBox: "0 -960 960 960",
    fill: "currentColor",
    ...s
  })), v(n, R)
}
export {
  Sr as D, Nr as R, Oa as W, kr as a, Ue as b, Tr as c, Er as d, Ce as e, q as f, Lr as l, Rr as p, Zt as r, zr as s, Ae as t
};